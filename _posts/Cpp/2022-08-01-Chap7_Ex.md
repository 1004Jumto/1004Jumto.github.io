---
title: "[ì—´í˜ˆ C++] Chap07 ì—°ìŠµë¬¸ì œ"
excerpt: "[C++] ìƒì†"
categories: [Cpp]
tags: [cpp, study]
toc: true
toc_sticky: true
---

## 07-1 [ìƒì†ê³¼ ìƒì„±ìì˜ í˜¸ì¶œ] 

+ ì½”ë“œğŸ’»

```cpp
/*
 * ë‘ í´ë˜ìŠ¤ì— ì ì ˆí•œ ìƒì„±ìì™€ ì†Œë©¸ìë¥¼ ì •ì˜í•´ë³´ì
 * ê·¸ë¦¬ê³  í™•ì¸ì„ ìœ„í•œ mainí•¨ìˆ˜ë¥¼ ì •ì˜í•´ë³´ì
 */
#define _CRT_SECURE_NO_WARNINGS

#include<iostream>
using namespace std;

class MyFriendInfo {
private:
	char* m_pName;
	int m_Age;

public:
	MyFriendInfo(const char* name, int age);
	~MyFriendInfo();
	void ShowMyFriendInfo() {
		cout << "ì´ë¦„ : " << m_pName << endl;
		cout << "ë‚˜ì´ : " << m_Age << endl;
	}
};

MyFriendInfo::MyFriendInfo(const char* name, int age) {
	m_pName = new char[strlen(name) + 1];
	strcpy(m_pName, name);
	m_Age = age;
	cout << "constructor" << endl;
}

MyFriendInfo::~MyFriendInfo() {
	delete[]m_pName;
	cout << "destructor" << endl;
}


class MyFriendDetailInfo : public MyFriendInfo {
private:
	char* m_pAddr;
	char* m_pPhone;

public:
	MyFriendDetailInfo(const char* name, int age, const char* addr, const char* phone) 
		: MyFriendInfo(name, age) {
		m_pAddr = new char[strlen(addr) + 1];
		m_pPhone = new char[strlen(phone) + 1];

		strcpy(m_pAddr, addr);
		strcpy(m_pPhone, phone);
		
		cout << "derived constructor" << endl;
	};

	~MyFriendDetailInfo() {
		delete[]m_pAddr;
		delete[]m_pPhone;
		cout << "derived destructor" << endl;
	};

	void ShowMyFriendDetailInfo() {
		ShowMyFriendInfo();
		cout << "ì£¼ì†Œ : " << m_pAddr << endl;
		cout << "ë²ˆí˜¸ : " << m_pPhone << endl;

	}
};

int main(void) {
	MyFriendInfo choi("choi", 21);
	choi.ShowMyFriendInfo();

	MyFriendDetailInfo sohn("sohn", 22, "ê²½ê¸°", "1243");
	sohn.ShowMyFriendDetailInfo();

	MyFriendDetailInfo lee = sohn;
	lee.ShowMyFriendDetailInfo();

	return 0;
}


```  

  + Heap Corruption detectedë¼ê³  ì—ëŸ¬ê°€ ë‚˜ëŠ”ë°, ì´ìœ ëŠ” `new char[]`ë¡œ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•´ë†“ê³  ë¬¸ìì—´ì„ ì—°ê²°í•˜ê±°ë‚˜ ë©”ëª¨ë¦¬ê°€ ë‹¬ë¼ì§„ í›„ deleteí•˜ë ¤í•˜ê¸° ë•Œë¬¸ì´ë¼ê³  í•œë‹¤. ê·¼ë° ì™œ ì €ë²ˆë‚ ì˜ ì½”ë“œëŠ” ë©€ì©¡í–ˆì„ê¹Œìš”.


## 07-2-1 [IS-A ê´€ê³„ì˜ ìƒì†] 

+ ì½”ë“œğŸ’»

```cpp
/* ë¬¸ì œ1
 * ì •ì‚¬ê°í˜• í´ë˜ìŠ¤ì™€ ì§ì‚¬ê°í˜• í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ê³ ìí•œë‹¤
 * ì •ì‚¬ê°í˜•ì€ ì§ì‚¬ê°í˜• ì¼ì¢…ì´ë¯€ë¡œ ìƒì†ê´€ê³„ë¥¼ êµ¬ì„±í•œë‹¤.
*/

#include<iostream>
using namespace std;

class Rectangle
{
public:
	Rectangle(int width, int height);
	~Rectangle();

private:
	int m_Width;
	int m_Height;

public:
	void ShowAreaInfo();
};

Rectangle::Rectangle(int width, int height) : m_Height(height), m_Width(width)
{
}

Rectangle::~Rectangle()
{
}

void Rectangle::ShowAreaInfo()
{
	cout << "area: " << m_Height * m_Width << endl;
}



class Square : public Rectangle
{
public:
	Square(int len);
	~Square();

private:
	int m_Len;      // í•œë³€ì˜ ê¸¸ì´

};

Square::Square(int len) : Rectangle(len, len)
{
}

Square::~Square()
{
}

int main(void) {
	Rectangle rec(4, 3);
	rec.ShowAreaInfo();

	Square sqr(7);
	sqr.ShowAreaInfo();
	return 0;
}
```  

+ ìœ ë„í´ë˜ìŠ¤ì— êµ³ì´ ê¸°ëŠ¥ì„ ë” ì¶”ê°€í•´ì„œ í’ë¶€í•˜ê²Œ ë§Œë“¤ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ìƒê°ì„ í•  ìˆ˜ ìˆê²Œë” í•˜ëŠ” ë¬¸ì œì˜€ëŠ”ë°, ìœ ë„í´ë˜ìŠ¤ê°€ ë„ˆë¬´ íœ‘í•´ë³´ì¸ë‹¤