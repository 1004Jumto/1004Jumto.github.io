---
title: "[ì—´í˜ˆ C++] OOP ë‹¨ê³„ë³„ í”„ë¡œì íŠ¸ 06ë‹¨ê³„ : ìƒì†"
excerpt: "[C++] OOP ë‹¨ê³„ë³„ í”„ë¡œì íŠ¸ 06ë‹¨ê³„ : ìƒì†"
categories: [Cpp]
tags: [cpp, study]
toc: true
toc_sticky: true
---

## ğŸ”­í”„ë¡œê·¸ë¨ ì„¤ëª…

+ ì´ì „ì— ì •ì˜í•œ Account í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ëŠ” ë‹¤ìŒ ë‘ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€ë¡œ ì •ì˜í•˜ê³ ì í•œë‹¤
  + NormalAccount           ë³´í†µì˜ˆê¸ˆê³„ì¢Œ : ìµœì†Œí•œì˜ ì´ìë¥¼ ì§€ê¸‰í•˜ëŠ” ììœ¨ ì…ì¶œê¸ˆì‹ ê³„ì¢Œ
  + HighCreditAccount       ì‹ ìš©ì‹ ë¢°ê³„ì¢Œ : ì‹ ìš©ë„ê°€ ë†’ì€ ê³ ê°ì—ê²Œë§Œ ê°œì„¤ì„ í—ˆìš©í•˜ëŠ” ë†’ì€ ì´ìœ¨ì˜ ê³„ì¢Œ

+ NormalAccount í´ë˜ìŠ¤ëŠ” ê°ì²´ì˜ ìƒì„±ê³¼ì •ì—ì„œ ì´ìœ¨ì •ë³´ë¥¼ ë“±ë¡í•  ìˆ˜ ìˆë„ë¡ ì •ì˜í•˜ì
+ HighCreditAccount í´ë˜ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜í•˜ì
  + ê°ì²´ ìƒì„±ê³¼ì •ì—ì„œ ê¸°ë³¸ ì´ìœ¨ì„ ë“±ë¡í•  ìˆ˜ ìˆë‹¤.
  + ì‹ ìš©ë“±ê¸‰ì„ a,b,cë¡œ ë‚˜ëˆˆê³  ê³„ì¢Œê°œì„¤ ì‹œ ì´ ì •ë³´ë¥¼ ë“±ë¡í•œë‹¤
  + ë“±ê¸‰ë³„ë¡œ ê°ê° ê¸°ë³¸ ì´ìœ¨ì— 7,4,2%ì˜ ì´ìœ¨ì„ ì¶”ê°€ë¡œ ì œê³µí•œë‹¤

+ ëª¨ë“  ê³„ì¢Œì— ì ìš©í•˜ëŠ” ì¡°ê±´
  + ê³„ì¢Œ ê°œì„¤ê³¼ì • ì´ˆê¸°ì— ì…ê¸ˆë˜ëŠ” ê¸ˆì•¡ì— ëŒ€í•´ì„œëŠ” ì´ìë¥¼ ê³„ì‚°í•˜ì§€ ì•ŠëŠ”ë‹¤
  + ê°œì„¤ í›„ ë³„ë„ì˜ ì…ê¸ˆê³¼ì •ì„ ê±°ì¹  ë•Œë§Œ ì´ìê°€ ë°œìƒí•˜ëŠ” ê²ƒìœ¼ë¡œ ê°„ì£¼í•œë‹¤
  + ì´ì ê³„ì‚° ê³¼ì • ì¤‘ ë°œìƒí•˜ëŠ” ì†Œìˆ˜ì  ì´í•˜ ê¸ˆì•¡ì€ ë¬´ì‹œí•œë‹¤


## ğŸ–¥ï¸êµ¬í˜„

+ í—¤ë”
  
  ```cpp
  #pragma once
  class Account
  {
  public:
    Account(int id, char* name, int balance);
    Account(const Account& ref);
    ~Account();

  private:
    int m_Id;			// ê³„ì¢Œë²ˆí˜¸
    char* m_cpName;		// ì´ë¦„
    int m_Balance;		// ì”ê³ 

  public:
    int getID() const;
    virtual int Deposit(int monyey);
    int Withdraw(int money);
    void ShowAccInfo() const;
  };

  class BankSystem
  {
  public:
    BankSystem();
    ~BankSystem();

  private:
    int m_NumOfAcc;				// ê³„ì¢Œ ê°œìˆ˜
    Account* m_pAccs[50];		// ê³„ì¢Œ ë°°ì—´

  public:
    void AnnounceSys() const;	// ì‹œìŠ¤í…œ ì•ˆë‚´
    void CreateAccount();		// ê³„ì¢Œ ê°œì„¤
    void DepositMoney();		// ì…ê¸ˆ
    void WithdrawMoney();		// ì¶œê¸ˆ
    void InquiryAcc() const;	// ì”ì•¡ì¡°íšŒ

  protected:
    void MakeNormalAcc();
    void MakeHighCreditAcc();
  };

  class NormalAccount : public Account {
  public:
    NormalAccount(int id, char* name, int balance, int interestRate);
    ~NormalAccount();
    
  private:
    int m_iInterRate;
  public:
    int Deposit(int money);

  };

  class HighCreditAccount : public Account {
  public:
    HighCreditAccount(int id, char* name, int balance, int interestRate, int creditlevel);
    ~HighCreditAccount();
  private:
    int m_iInterRate;
    int m_iCreditLevel;
  public:
    int Deposit(int money);
  };
  ```

+ cpp
  
  ```cpp
  /*
  * Banking System Ver 0.6
  * author : YEJIN LEE
  * contents : Inheritance ìƒì†
  */

  #define _CRT_SECURE_NO_WARNINGS
  #include<iostream>
  #include<cstring>
  #include "Stage_6.h"

  using namespace std;

  enum { DEPOSIT = 1, WITHDRAW, CREATE, INQUIRY, EXIT };
  enum { LEVEL_A = 7, LEVEL_B = 4, LEVEL_C = 2 };
  enum { NormalAccount = 1, HighCreditAccount };

  const int NAME_LEN = 10;

  ///////////////////// ê³„ì¢Œ /////////////////////////

  Account::Account(int id, char* name, int balance) : m_Id(id), m_Balance(balance)
  {
    m_cpName = new char[strlen(name) + 1];
    strcpy(m_cpName, name);
  }

  Account::Account(const Account& ref)
    : m_Id(ref.m_Id), m_Balance(ref.m_Balance) {
    m_cpName = new char[strlen(ref.m_cpName) + 1];
    strcpy(m_cpName, ref.m_cpName);
  }

  Account::~Account()
  {
    delete[]m_cpName;
  }

  int Account::getID() const {
    return m_Id;
  }

  int Account::Deposit(int money) {
    m_Balance += money;
    return money;
  }

  int Account::Withdraw(int money) {
    if (m_Balance - money < 0) {
      return -1;
    }

    m_Balance -= money;
    return money;
  }

  void Account::ShowAccInfo() const {
    cout << "ê³„ì¢Œë²ˆí˜¸ : " << m_Id << endl;
    cout << "ì´    ë¦„ : " << m_cpName << endl;
    cout << "ì”    ì•¡ : " << m_Balance << endl;
  }

  //////////////// ë³´í†µì˜ˆê¸ˆê³„ì¢Œ //////////////////
  NormalAccount::NormalAccount(int id, char* name, int balance, int interestRate) 
    : Account(id, name, balance), m_iInterRate(interestRate)
  {
    
  }
  NormalAccount::~NormalAccount() {

  }

  int NormalAccount::Deposit(int money) {
    money = (1 + 0.01*m_iInterRate)*money;		//ì´ìì™€ ì›ê¸ˆì„ í•©ì¹œ ëˆìœ¼ë¡œ, ìµœì¢…ì ìœ¼ë¡œ ì…ê¸ˆë  ê¸ˆì•¡
    return Account::Deposit(money);
  }

  //////////////// ì‹ ìš©ì‹ ë¢°ê³„ì¢Œ //////////////////
  HighCreditAccount::HighCreditAccount(int id, char* name, int balance, int interestRate, int creditlevel) 
    : Account(id, name, balance), m_iInterRate(interestRate), m_iCreditLevel(creditlevel)
  {

  }

  HighCreditAccount::~HighCreditAccount() {

  }
  int HighCreditAccount::Deposit(int money) {
    int inter = m_iInterRate + m_iCreditLevel;
    money = (1 + 0.01 * inter) * money;
    return Account::Deposit(money);
  }

  //////////////////// ì€í–‰ //////////////////////

  BankSystem::BankSystem() : m_NumOfAcc(0)
  {
  }

  BankSystem::~BankSystem()
  {
    delete[]m_pAccs;
  }

  void BankSystem::AnnounceSys() const {

    cout << "----- Menu -----" << endl;
    cout << "1. ì…    ê¸ˆ" << endl;
    cout << "2. ì¶œ    ê¸ˆ" << endl;
    cout << "3. ê°œ    ì„¤" << endl;
    cout << "4. ê³„ì¢Œì •ë³´" << endl;
    cout << "5. ì¢…    ë£Œ" << endl;

  }

  void BankSystem::CreateAccount() {
    int acc;

    cout << "[ê³„ì¢Œì„ íƒ]" << endl;
    cout << "1. ë³´í†µì˜ˆê¸ˆê³„ì¢Œ" << endl;
    cout << "2. ì‹ ìš©ì‹ ë¢°ê³„ì¢Œ" << endl;
    cout << "ì„ íƒ : " << endl;
    cin >> acc;

    if (acc == NormalAccount) {
      MakeNormalAcc();
    }
    else
      MakeHighCreditAcc();
    
  }

  void BankSystem::MakeNormalAcc() {
    int id;
    char name[NAME_LEN];
    int money;
    int interestRate;

    cout << "ê³„ì¢Œë²ˆí˜¸ : " << endl; cin >> id;
    cout << "ì´    ë¦„ : " << endl; cin >> name;
    cout << "ì”    ì•¡ : " << endl; cin >> money;
    cout << "ì´    ì : " << endl; cin >> interestRate;

    m_pAccs[m_NumOfAcc++] = new NormalAccount(id, name, money, interestRate);
  }

  void BankSystem::MakeHighCreditAcc() {
    int id;
    char name[NAME_LEN];
    int money;
    int interestRate;
    int level;

    cout << "ê³„ì¢Œë²ˆí˜¸ : " << endl; cin >> id;
    cout << "ì´    ë¦„ : " << endl; cin >> name;
    cout << "ì”    ì•¡ : " << endl; cin >> money;
    cout << "ì´    ì : " << endl; cin >> interestRate;
    cout << "ì‹ ìš©ë“±ê¸‰(1.A, 2.B, 3.C) : " << endl; cin >> level;

    switch (level)
    {
    case 1:
      m_pAccs[m_NumOfAcc++] = new HighCreditAccount(id, name, money, interestRate, LEVEL_A);
      break;

    case 2:
      m_pAccs[m_NumOfAcc++] = new HighCreditAccount(id, name, money, interestRate, LEVEL_B);
      break;

    case 3:
      m_pAccs[m_NumOfAcc++] = new HighCreditAccount(id, name, money, interestRate, LEVEL_C);
      break;

    default:
      cout << "ì˜ëª»ëœ ì‹ ìš©ë“±ê¸‰ì…ë‹ˆë‹¤" << endl;
      break;
    }

    
  }

  void BankSystem::DepositMoney() {

    int id;
    int money;

    cout << "[ì…ê¸ˆ]" << endl;
    cout << "ê³„ì¢Œë²ˆí˜¸ : "; cin >> id;
    cout << "ì…ê¸ˆì•¡ : "; cin >> money;

    for (int i = 0; i < m_NumOfAcc; i++) {
      if (m_pAccs[i]->getID() == id) {
        int retMoney = m_pAccs[i]->Deposit(money);

        cout << "ì”ì•¡ : " << retMoney << endl << endl;
        return;
      }
    }

    cout << "í•´ë‹¹ ê³„ì¢Œê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤" << endl << endl;
    return;
  }

  void BankSystem::WithdrawMoney() {
    int id;
    int money;

    cout << "[ì¶œê¸ˆ]" << endl;
    cout << "ê³„ì¢Œ ID : "; cin >> id;
    cout << "ì¶œê¸ˆì•¡ : "; cin >> money;

    for (int i = 0; i < m_NumOfAcc; i++) {
      if (m_pAccs[i]->getID() == id) {
        int retMoney = m_pAccs[i]->Deposit(money);

        if (retMoney < 0) {
          cout << "ì”ì•¡ì´ ë¶€ì¡±í•©ë‹ˆë‹¤" << endl << endl;
        }

        cout << "ì”ì•¡ : " << retMoney << endl << endl;
        return;
      }
    }
    cout << "í•´ë‹¹ ê³„ì¢Œê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤" << endl << endl;
    return;
  }

  void BankSystem::InquiryAcc() const {
    int id;

    cout << "[ê³„ì¢Œì¡°íšŒ]" << endl;
    cout << "ê³„ì¢Œë²ˆí˜¸ : "; cin >> id;
    cout << endl << endl;

    for (int i = 0; i < m_NumOfAcc; i++) {
      if (m_pAccs[i]->getID() == id) {
        cout << "--------------------" << endl;
        m_pAccs[i]->ShowAccInfo();
        return;
      }
    }

    cout << "í•´ë‹¹ ê³„ì¢Œê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤" << endl << endl;

  }

  int main(void) {
    int option;
    BankSystem shinhan;

    while (true)
    {
      shinhan.AnnounceSys();
      cout << "ì„ íƒ : ";
      cin >> option;
      cout << endl;

      switch (option)
      {
      case DEPOSIT:
        shinhan.DepositMoney();
        break;

      case WITHDRAW:
        shinhan.WithdrawMoney();
        break;

      case CREATE:
        shinhan.CreateAccount();
        break;

      case INQUIRY:
        shinhan.InquiryAcc();
        break;

      case EXIT:
        return 0;

      default:
        cout << "Illegal selection" << endl;

      }
    }
    return 0;
  }

  ```  
  + ì™œ í˜•ì‹ì§€ì •ìê°€ í•„ìš”í•˜ë‹¤ê³  E0027ì—ëŸ¬ê°€ ëœ¨ëŠ”ì§€ ëª¨ë¥´ê² ë‹¤. `Account* acc[i] = new NormalAccount(...)` ê¼´ì¸ë°, NormalAccountëŠ” Accountì˜ ìœ ë„í´ë˜ìŠ¤ì´ë¯€ë¡œ Account í¬ì¸í„° í˜• ê°ì²´ê°€ ê·¸ ìœ ë„ í´ë˜ìŠ¤ë¥¼ ëª¨ë‘ ì°¸ì¡°í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.  