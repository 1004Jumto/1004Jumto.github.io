---
title: "[ì—´í˜ˆ C++] OOP ë‹¨ê³„ë³„ í”„ë¡œì íŠ¸ 09ë‹¨ê³„ : String í´ë˜ìŠ¤"
excerpt: "[C++] OOP ë‹¨ê³„ë³„ í”„ë¡œì íŠ¸ 09ë‹¨ê³„ : String í´ë˜ìŠ¤"
categories: [Cpp]
tags: [cpp, study]
toc: true
toc_sticky: true
---

## ğŸ”­í”„ë¡œê·¸ë¨ ì„¤ëª…

+ ì•ì„œ ì •ì˜í•œ Account í´ë˜ìŠ¤ëŠ” ìƒì„±ìì—ì„œ ë¬¸ìì—´ì„ ë™ì  í• ë‹¹í•˜ê¸° ë•Œë¬¸ì—, ì†Œë©¸ìì™€ ê¹Šì€ ë³µì‚¬ë¥¼ ìœ„í•œ ë³µì‚¬ ìƒì„±ì, ëŒ€ì…ì—°ì‚°ìê°€ ì •ì˜ë˜ì–´ ìˆë‹¤. ê·¸ëŸ°ë° ì´ë²ˆì— ì ìš©í•  String í´ë˜ìŠ¤ëŠ” ë©”ëª¨ë¦¬ ê³µì•ˆì„ ë™ì í• ë‹¹í•˜ê³  ê¹Šì€ ë³µì‚¬ë¥¼ ì§„í–‰í•˜ëŠ” í˜•íƒœë¡œ ë³µì‚¬ ìƒì„±ìì™€ ëŒ€ì…ì—°ì‚°ìê°€ ì •ì˜ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—, ì´ë¥¼ ì´ìš©í•˜ë©´ Account í´ë˜ìŠ¤ì˜ êµ¬í˜„ì´ í•œê²° ê°„ë‹¨í•´ì§„ë‹¤.

## ğŸ–¥ï¸êµ¬í˜„

+ Account.h

    ```cpp
    #pragma once
    #include"String.h"

    class Account
    {
    public:
        Account(int id, String name, int balance);
        //Account(const Account& ref);
        //~Account();

    private:
        int m_Id;			// ê³„ì¢Œë²ˆí˜¸
        String m_SName;		//char* m_cpName;		// ì´ë¦„
        int m_Balance;		// ì”ê³ 

    public:
        //Account& operator=(const Account& ref);
        int getID() const;
        virtual int Deposit(int monyey);
        int Withdraw(int money);
        void ShowAccInfo() const;
    };


    ```

+ Account.cpp
  
    ```cpp
    #define _CRT_SECURE_NO_WARNINGS

    #include "Stage_7_Account.h"
    #include"Stage_7_BankDec.h"


    ///////////////// ê³„ì¢Œ /////////////////////////

    Account::Account(int id, String name, int balance) : m_Id(id), m_Balance(balance)
    {
        m_SName = name;
    }

    //Account::Account(const Account& ref)
    //	: m_Id(ref.m_Id), m_Balance(ref.m_Balance) 
    //{
    //	m_cpName = new char[strlen(ref.m_cpName) + 1];
    //	strcpy(m_cpName, ref.m_cpName);
    //}

    //Account::~Account()
    //{
    //	delete[]m_cpName;
    //}

    //Account& Account::operator=(const Account& ref)
    //{
    //	m_Id = ref.m_Id;
    //	m_Balance = ref.m_Balance;
    //
    //	delete[]m_cpName;		//ëŒ€ì…ì—°ì‚°ìëŠ” ë‘ ê°ì²´ê°€ ëª¨ë‘ ì´ˆê¸°í™” ëœ ìƒíƒœì´ë¯€ë¡œ, ë¨¼ì € ì´ë¦„ì„ ì§€ì›Œì¤€ë‹¤
    //	m_cpName = new char[strlen(ref.m_cpName)+1];
    //	strcpy(m_cpName, ref.m_cpName);
    //	return *this;
    //}

    int Account::getID() const {
        return m_Id;
    }

    int Account::Deposit(int money) {
        m_Balance += money;
        return m_Balance;			// ì”ì•¡ ë°˜í™˜
    }

    int Account::Withdraw(int money) {
        if (m_Balance - money < 0) {
            return -1;
        }

        m_Balance -= money;
        return m_Balance;
    }

    void Account::ShowAccInfo() const {
        cout << "ê³„ì¢Œë²ˆí˜¸ : " << m_Id << endl;
        cout << "ì´    ë¦„ : " << m_SName << endl;
        cout << "ì”    ì•¡ : " << m_Balance << endl;
    }
    ```

+ AccountType.h

    ```cpp
    #pragma once

    #include"Stage_7_Account.h"
    #include"String.h"

    class NormalAccount : public Account {
    public:
        NormalAccount(int id, String name, int balance, int interestRate);
        ~NormalAccount();

    private:
        int m_iInterRate;
    public:
        int Deposit(int money);

    };

    class HighCreditAccount : public Account {
    public:
        HighCreditAccount(int id, String name, int balance, int interestRate, int creditlevel);
        ~HighCreditAccount();
    private:
        int m_iInterRate;
        int m_iCreditLevel;
    public:
        int Deposit(int money);

    };

    //////////// ë³´í†µì˜ˆê¸ˆê³„ì¢Œ //////////////////
    NormalAccount::NormalAccount(int id, String name, int balance, int interestRate)
        : Account(id, name, balance), m_iInterRate(interestRate)
    {

    }
    NormalAccount::~NormalAccount() {

    }

    int NormalAccount::Deposit(int money) {
        money = (int)((1 + 0.01 * m_iInterRate) * money);		//ì´ìì™€ ì›ê¸ˆì„ í•©ì¹œ ëˆìœ¼ë¡œ, ìµœì¢…ì ìœ¼ë¡œ ì…ê¸ˆë  ê¸ˆì•¡
        return Account::Deposit(money);
    }

    //////////// ì‹ ìš©ì‹ ë¢°ê³„ì¢Œ //////////////////
    HighCreditAccount::HighCreditAccount(int id, String name, int balance, int interestRate, int creditlevel)
        : Account(id, name, balance), m_iInterRate(interestRate), m_iCreditLevel(creditlevel)
    {

    }

    HighCreditAccount::~HighCreditAccount() {

    }
    int HighCreditAccount::Deposit(int money) {
        int inter = m_iInterRate + m_iCreditLevel;
        money = (int)((1 + 0.01 * inter) * money);
        return Account::Deposit(money);
    }
    ```

+ BankSystem.cpp

    ```cpp
    #define _CRT_SECURE_NO_WARNINGS

    #include"Stage_7_BankSystem.h"
    #include"Stage_7_Account.h"
    #include"Stage_7_AccountType.h"
    #include"Stage_7_BankDec.h"
    #include"String.h"

    //////////////// ì€í–‰ //////////////////////

    BankSystem::BankSystem() : m_NumOfAcc(0)
    {
    }

    BankSystem::~BankSystem()
    {
        for (int i = 0; i < m_NumOfAcc; i++) {
            delete m_pAccs[i];
        }
    }

    void BankSystem::AnnounceSys() const {

        cout << "----- Menu -----" << endl;
        cout << "1. ì…    ê¸ˆ" << endl;
        cout << "2. ì¶œ    ê¸ˆ" << endl;
        cout << "3. ê°œ    ì„¤" << endl;
        cout << "4. ê³„ì¢Œì •ë³´" << endl;
        cout << "5. ì¢…    ë£Œ" << endl;

    }

    void BankSystem::CreateAccount() {
        int acc;

        cout << "[ê³„ì¢Œì„ íƒ]" << endl;
        cout << "1. ë³´í†µì˜ˆê¸ˆê³„ì¢Œ" << endl;
        cout << "2. ì‹ ìš©ì‹ ë¢°ê³„ì¢Œ" << endl;
        cout << "ì„ íƒ : "; cin >> acc;

        if (acc == NormalAcc) {
            MakeNormalAcc();
        }
        else
            MakeHighCreditAcc();

    }

    void BankSystem::MakeNormalAcc() {
        int id;
        String name;
        int money;
        int interestRate;

        cout << "[ë³´í†µì˜ˆê¸ˆê³„ì¢Œ ê°œì„¤]" << endl;
        cout << "ê³„ì¢Œë²ˆí˜¸ : "; cin >> id;
        cout << "ì´    ë¦„ : "; cin >> name;
        cout << "ì”    ì•¡ : "; cin >> money;
        cout << "ì´    ì : "; cin >> interestRate;
        cout << endl;

        m_pAccs[m_NumOfAcc++] = new NormalAccount(id, name, money, interestRate);
    }

    void BankSystem::MakeHighCreditAcc() {
        int id;
        String name;
        int money;
        int interestRate;
        int level;

        cout << "[ì‹ ìš©ì‹ ë¢°ê³„ì¢Œ ê°œì„¤]" << endl;
        cout << "ê³„ì¢Œë²ˆí˜¸ : "; cin >> id;
        cout << "ì´    ë¦„ : "; cin >> name;
        cout << "ì”    ì•¡ : "; cin >> money;
        cout << "ì´    ì : "; cin >> interestRate;
        cout << "ì‹ ìš©ë“±ê¸‰(1.A, 2.B, 3.C) : "; cin >> level;
        cout << endl;

        switch (level)
        {
        case 1:
            m_pAccs[m_NumOfAcc++] = new HighCreditAccount(id, name, money, interestRate, LEVEL_A);
            break;

        case 2:
            m_pAccs[m_NumOfAcc++] = new HighCreditAccount(id, name, money, interestRate, LEVEL_B);
            break;

        case 3:
            m_pAccs[m_NumOfAcc++] = new HighCreditAccount(id, name, money, interestRate, LEVEL_C);
            break;

        default:
            cout << "ì˜ëª»ëœ ì‹ ìš©ë“±ê¸‰ì…ë‹ˆë‹¤" << endl;
            break;
        }


    }

    void BankSystem::DepositMoney() {

        int id;
        int money;

        cout << "[ì…ê¸ˆ]" << endl;
        cout << "ê³„ì¢Œë²ˆí˜¸ : "; cin >> id;
        cout << "ì…ê¸ˆì•¡ : "; cin >> money;

        for (int i = 0; i < m_NumOfAcc; i++) {
            if (m_pAccs[i]->getID() == id) {
                int retMoney = m_pAccs[i]->Deposit(money);

                cout << "ì”ì•¡ : " << retMoney << endl << endl;
                return;
            }
        }

        cout << "í•´ë‹¹ ê³„ì¢Œê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤" << endl << endl;
        return;
    }

    void BankSystem::WithdrawMoney() {
        int id;
        int money;

        cout << "[ì¶œê¸ˆ]" << endl;
        cout << "ê³„ì¢Œë²ˆí˜¸ : "; cin >> id;
        cout << "ì¶œê¸ˆì•¡ : "; cin >> money;
        
        for (int i = 0; i < m_NumOfAcc; i++) {
            if (m_pAccs[i]->getID() == id) {
                int retMoney = m_pAccs[i]->Withdraw(money);

                if (retMoney < 0) {
                    cout << "ì”ì•¡ì´ ë¶€ì¡±í•©ë‹ˆë‹¤" << endl << endl;
                    m_pAccs[i]->ShowAccInfo();
                    return;
                }

                cout << "ì”ì•¡ : "  << retMoney << endl << endl;
                return;
            }
        }
        cout << "í•´ë‹¹ ê³„ì¢Œê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤" << endl << endl;
        return;
    }

    void BankSystem::InquiryAcc() const {
        int id;

        cout << "[ê³„ì¢Œì¡°íšŒ]" << endl;
        cout << "ê³„ì¢Œë²ˆí˜¸ : "; cin >> id;
        cout << endl << endl;
        
        for (int i = 0; i < m_NumOfAcc; i++) {
            if (m_pAccs[i]->getID() == id) {
                cout << "--------------------" << endl;
                m_pAccs[i]->ShowAccInfo();
                return;
            }
        }

        cout << "í•´ë‹¹ ê³„ì¢Œê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤" << endl << endl;

    }
    ```

