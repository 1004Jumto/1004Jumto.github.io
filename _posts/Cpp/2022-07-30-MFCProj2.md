---
title: "[MFC C++] OOP ë‹¨ê³„ë³„ í”„ë¡œì íŠ¸ 02ë‹¨ê³„ - MFC"
excerpt: "[C++] OOP ë‹¨ê³„ë³„ í”„ë¡œì íŠ¸ 02ë‹¨ê³„ - MFC"
categories: [Cpp]
tags: [cpp, study, mfc]
toc: true
toc_sticky: true
---

## ğŸ”­í”„ë¡œê·¸ë¨ ì„¤ëª…

+ í”„ë¡œê·¸ë¨ì˜ ëª©ì ì€ ì´ì „ í¬ìŠ¤íŒ…ê³¼ ê°™ë‹¤.
+ ì½˜ì†”ì— ìµìˆ™í•´ì§€ê¸° ë³´ë‹¤ëŠ” MFC ìœˆë„ìš°ì™€ ì¹œí•´ì§€ëŠ” ê²ƒì´ ë” ë„ì›€ì´ ë  ë“¯ í•˜ì—¬, ì›ë˜ì˜ í”„ë¡œì íŠ¸ë¥¼ ì´ì— ë§ê²Œ ìˆ˜ì •í•˜ì—¬ ë™ì¼í•œ ê¸°ëŠ¥ì´ ë˜ëŠ” ì€í–‰ ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ë³´ê³ ì í•œë‹¤.

## ğŸ’»ì½”ë“œ ì„¤ëª…

+ static ì»¨íŠ¸ë¡¤ê³¼ edit ì»¨íŠ¸ë¡¤ì„ ì‚¬ìš©í•´ ì…ë ¥ë°›ê³  ì¶œë ¥ê°’ì´ ë‚˜íƒ€ë‚˜ê²Œ í–ˆë‹¤.
+ ë²„íŠ¼ìœ¼ë¡œ ì…ê¸ˆ/ì¶œê¸ˆ/ê°œì„¤/ì¡°íšŒ ë“±ì„ í•  ìˆ˜ ìˆë„ë¡ í–ˆë‹¤.

+ ì‹¤í–‰ ê²°ê³¼  
  
  ![fail to bring](/assets/Image/cppStudy/mfc_oopProj2.png)

```cpp
//Dlg.cpp

BankSystem  bs;     //ì€í–‰

void CChap5Dlg::OnBnClickedButton1()
{
	UpdateData(TRUE);

	int iId = atol(m_Input_1);
	CString sName = m_Input_2;
	int iMoney = atol(m_Input_3);

	bs.CreateAccount(iId, sName, iMoney);

	m_strOut1.Format("ê³„ì¢Œë²ˆí˜¸ : %d", iId);
	m_strOut2.Format("ì´    ë¦„ : %s", sName);
	m_strOut3.Format("ì”    ì•¡ : %d", iMoney);

	UpdateData(FALSE);
}

void CChap5Dlg::OnBnClickedButton2()		//ì…ê¸ˆ
{
	UpdateData(TRUE);
	
	int iId = atol(m_Input_1);
	int iMoney = atol(m_Input_3);

	bs.DepositMoney(iId, iMoney);

	m_strOut1.Format("ê³„ì¢Œë²ˆí˜¸ : %d", iId);
	m_strOut2.Format("ì´    ë¦„ : %s", bs.getName(iId));
	m_strOut3.Format("ì”    ì•¡ : %d", bs.getBalance(iId));

	UpdateData(FALSE);

}

void CChap5Dlg::OnBnClickedButton4()		//ì¶œê¸ˆ
{
	UpdateData(TRUE);

	int iId = atol(m_Input_1);
	int iMoney = atol(m_Input_3);

	bs.WithdrawMoney(iId, iMoney);

	m_strOut1.Format("ê³„ì¢Œë²ˆí˜¸ : %d", iId);
	m_strOut2.Format("ì´    ë¦„ : %s", bs.getName(iId));
	m_strOut3.Format("ì”    ì•¡ : %d", bs.getBalance(iId));

	UpdateData(FALSE);
}

void CChap5Dlg::OnBnClickedButton5()		//ì”ì•¡ì¡°íšŒ
{

	UpdateData(TRUE);

	int iId = atol(m_Input_1);

	m_strOut1.Format("ê³„ì¢Œë²ˆí˜¸ : %d", iId);
	m_strOut2.Format("ì´    ë¦„ : %s", bs.getName(iId));
	m_strOut3.Format("ì”    ì•¡ : %d", bs.getBalance(iId));

	UpdateData(FALSE);
}

//Project2.cpp
#include "pch.h"
#include "framework.h"
#include "Proj2.h"


Account::Account(int id, const char* name, int balance) : m_Id(id), m_Balance(balance)
{
	int len = strlen(name) + 1;
	m_cpName = new char[len];
	strcpy_s(m_cpName,len, name);
}

Account::~Account()
{
}

int Account::getID() {
	return m_Id;
}

int Account::getBalance() {
	return m_Balance;
}

char* Account::getName() {
	return m_cpName;
}

void Account::changeBalance(int money) {
	m_Balance = money;
}


BankSystem::BankSystem() : m_NumOfAcc(0)
{
}

BankSystem::~BankSystem()
{
	delete[]m_pAccs;
}



void BankSystem::CreateAccount(int id, CString name, int money) {

	m_pAccs[m_NumOfAcc++] = new Account(id, LPCTSTR(name), money);
	return;

}

void BankSystem::DepositMoney(int id, int money) {


	for (int i = 0; i < m_NumOfAcc; i++) {
		if (m_pAccs[i]->getID() == id) {
			int retMoney = m_pAccs[i]->getBalance();
			retMoney += money;
			m_pAccs[i]->changeBalance(retMoney);
			return;
		}
	}

	return;
}

void BankSystem::WithdrawMoney(int id, int money) {
	
	for (int i = 0; i < m_NumOfAcc; i++) {
		if (m_pAccs[i]->getID() == id) {
			int retMoney = m_pAccs[i]->getBalance();
			retMoney -= money;

			if (m_pAccs[i]->getBalance() < 0) {
				
				retMoney = m_pAccs[i]->getBalance();
				retMoney += money;
				m_pAccs[i]->changeBalance(retMoney);
				return;
			}

			m_pAccs[i]->changeBalance(retMoney);
		
			return;
		}
	}

	return;
}

CString BankSystem::getName(int id) const {
	for (int i = 0; i < m_NumOfAcc; i++) {
		if (m_pAccs[i]->getID() == id) {
			return m_pAccs[i]->getName();
		}
	}
	CString error = "ê³„ì¢Œì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤";
	return error;
}

int BankSystem::getBalance(int id) const{
	for (int i = 0; i < m_NumOfAcc; i++) {
		if (m_pAccs[i]->getID() == id) {
			return m_pAccs[i]->getBalance();
		}
	}
	return -1;
}
```  

  + ì„ ì–¸ì€ í—¤ë”íŒŒì¼ì— ë‹´ì•˜ê³ , ì •ì˜ëŠ” cppì— ë‹´ì•˜ë‹¤. 
  + ë§Œë“¤ë©´ì„œ ì½”ë“œê°€ ì ì  ê¼¬ì´ëŠ” ë“¯í•œ ëŠë‚Œì´ì—ˆëŠ”ë°, ì •ë³´ì€ë‹‰ í•œë‹µì‹œê³  ë¹„íš¨ìœ¨ì ì¸ ì•¡ì„¸ìŠ¤í•¨ìˆ˜ë¥¼ ë§ì´ ë§Œë“  ê²ƒ ê°™ë‹¤.  
    ì½”ë“œê°€ ì¤‘ë³µë˜ëŠ” ë¶€ë¶„ë„ ë§ë‹¤. ë” ê¹”ë”í•˜ê²Œ ì–´ë–»ê²Œ ìˆ˜ì •í•´ì•¼ í• ê¹Œ.