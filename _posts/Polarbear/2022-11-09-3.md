---
title: "[Unity] ì•„ì´í…œ ë° ì¸ë²¤í† ë¦¬ êµ¬í˜„"
excerpt: "[Unity] ì•„ì´í…œ ë° ì¸ë²¤í† ë¦¬ êµ¬í˜„"
categories: [Polarbear]
tags: [unity, polarbear, study]
toc: true
toc_sticky: true
---

## ì²« êµ¬ìƒ

+ í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•˜ê¸° ì „ì— ëŸ¬í”„í•˜ê²Œ ìƒê°í•´ë³¸ ë³€ìˆ˜ì™€ ê¸°ëŠ¥ë“¤ì´ë‹¤.     
    + <u>ì•„ì´í…œ ë°ì´í„° í´ë˜ìŠ¤</u>
        + ì•„ì´í…œë“¤ì— ëŒ€í•œ ë°ì´í„°
    
    + <u>ì•„ì´í…œ í´ë˜ìŠ¤</u> 
        + ì•„ì´í…œ ì´ë¦„  
        + ì•„ì´í…œ ìœ í˜• - enum
        + ì•„ì´í…œ ì´ë¯¸ì§€
        + ì•„ì´í…œ í”„ë¦¬íŒ¹
        + ì•„ì´í…œ ê°œìˆ˜
        + ì•„ì´í…œ íš¨ê³¼(ê¸°ëŠ¥)  
       
        + ì•„ì´í…œ íšë“
            + ê°€ê¹Œì´ ë‹¤ê°€ê°€ë©´ í‚¤ í™œì„±í™” + íšë“  
            + (ì½œë¼ëŠ” ì¶©ëŒí•˜ë©´ íšë“ ê°€ëŠ¥..?)  

        + ì•„ì´í…œ ì‚¬ìš©
            + í‚¤ë¥¼ ëˆ„ë¥´ë©´ ìƒí™©ì— ë§ëŠ” ì•„ì´í…œì´ ìë™ìœ¼ë¡œ ë¹ ì ¸ë‚˜ê°
            + ì½œë¼30ê°œ ëª¨ì•„ í˜ì¸íŠ¸ë¡œ ë³€í™˜í•œë‹¤ê³  í• ë•Œ, ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ë³€í™˜ì‹œí‚¬ì§€. ì˜ˆë¥¼ ë“¤ë©´ ë”ë¸”í´ë¦­ ë­ ì˜¤ë¥¸ìª½ ë²„íŠ¼ ëˆŒëŸ¬ì„œ ë°”ë””í˜ì¸íŒ…ìœ¼ë¡œ ë³€í™˜ ë“±
        + ì•„ì´í…œ ì¸ì‹ ì˜ì—­(Raycast)
        + ì•„ì´í…œ ë“œë˜ê·¸ 
        + ì•„ì´í…œ í´ë¦­ì‹œ
  
    + <u>ì•„ì´í…œ íˆ´íŒ(ì„¤ëª…)</u>  
        + ì¸ë²¤í† ë¦¬ ë‚´ì—ì„œ ë§ˆìš°ìŠ¤ ìœ„ë¡œ ì˜¬ë¦¬ë©´ ì„¤ëª… ë³¼ ìˆ˜ ìˆìŒ

    + <u>ì¸ë²¤í† ë¦¬ í´ë˜ìŠ¤</u> 
        + ì•„ì´í…œ ì¶”ê°€
        + ì´ì´í…œ ì‚¬ìš©(ê°ì†Œ ë° ì‚­ì œ)
        + ì•„ì´í…œ ë“œë˜ê·¸ ë° ìœ„ì¹˜ë³€ê²½

    + <u>ìŠ¬ë¡¯</u>

<br>

## ActivatingKeyTrigger 

+ ìƒí˜¸ì‘ìš©í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ ê°€ê¹Œì´ ë‹¤ê°€ê°€ë©´ í™œì„±í™” ë¨

+ ì•„ì´í…œì„ í‚¤ë¥¼ ëˆ„ë¥´ë©´ íšë“í•˜ë„ë¡ í•¨

### ğŸ’»ì „ì²´ ì½”ë“œ

```cs
    using System.Collections;
    using System.Collections.Generic;
    using UnityEngine;
    using System;

    [ExecuteInEditMode]
    [RequireComponent(typeof(SphereCollider))]
    public class ActivatingKeyTrigger : MonoBehaviour
    {
        #region VARIABLES & PROPERTIES
            private SphereCollider _trigger;
            private CanvasGroup _ui;

            [Range(0.1f, 100.0f)] public float radius = 1.0f;

            public KeyTriggerType type;
            public List<KeyCode> pressKey;
            public bool isDone = false;
            public bool isActive = false;
            public Action callback = null;
            public ItemObject itemObj = null;

        #endregion

        #region UNITY_EVENTS
            private void Awake() {
                _trigger = this.GetComponent<SphereCollider>();
                _trigger.isTrigger=true;

                if(!itemObj) itemObj = GetComponent<ItemObject>();
            }

            private void Start() {
                
            }

            private void Update() {
                _trigger.radius = radius;
                
                if(!isDone&&isActive&&Input.GetKey(pressKey[0])) {
                    isDone = true;
                    isActive = false;
                    switch(type) {
                        case KeyTriggerType.GetItem:
                        {
                            ItemManager.Inst.itemInventory.AddItem(itemObj.penguin.Id);
                            Destroy(itemObj.gameObject);
                            break;
                        }
                    }
                    if(callback!=null) {
                        callback();
                    } 
                }
            }
            
            private void OnTriggerEnter(Collider other) {
                if(!isDone&&other.gameObject!=this) {
                    switch(type) {
                        case KeyTriggerType.GetItem:
                        {
                            isActive=true;
                            break;
                        }
                    }
                }
            }

            
            private void OnTriggerExit(Collider other) {
                if(other.gameObject!=this) {
                    switch(type) {
                        case KeyTriggerType.GetItem:
                        {
                            isActive=false;
                            break;
                        }
                    }
                }
            }

        #endregion
    }
```

<br>

```cs
    [ExecuteInEditMode]
    [RequireComponent(typeof(SphereCollider))]
```
  + í¸ì§‘ ëª¨ë“œ(Edit Mode): ê²Œì„ì— ë³€ê²½ì„ ê°€í•œë‹¤
  + í”Œë ˆì´ ëª¨ë“œ(Play Mode): ê²Œì„ì„ í”Œë ˆì´í•¨ìœ¼ë¡œì¨ í•´ë‹¹ ë³€ê²½ì„ í…ŒìŠ¤íŠ¸í•œë‹¤
  + ì¼ë°˜ì ìœ¼ë¡œ, ìœ ë‹ˆí‹°ì—ì„œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ êµ¬ì„±í•˜ëŠ” ê°ì²´ë“¤ì€ í”Œë ˆì´ ëª¨ë“œì—ì„œë§Œ ì‹¤í–‰ë˜ì§€ë§Œ, **[ExecuteInEditMode]ëŠ” í¸ì§‘ëª¨ë“œì—ì„œë„ Monobehaviour ìŠ¤í¬ë¦½íŠ¸ì˜ ê° ì´ë²¤íŠ¸ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë„ë¡ í•´ì¤€ë‹¤**

  + **[RequireComponent(typeof())]**ì„ ì‚¬ìš©í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì˜¤ë¸Œì íŠ¸ì— ì¶”ê°€í•˜ë©´ í•„ìš”í•˜ëŠ ì»´í¬ë„ŒíŠ¸ê°€ ìë™ìœ¼ë¡œ ì˜¤ë¸Œì íŠ¸ì— ì¶”ê°€ëœë‹¤. ë”°ë¼ì„œ ì•„ì´í…œ ì˜¤ë¸Œì íŠ¸ì— ì´ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•˜ë©´ ìë™ìœ¼ë¡œ SphereCollider ì»´í¬ë„ŒíŠ¸ê°€ ì¶”ê°€ëœë‹¤

<br>

### ğŸ“VARIABLES & PROPERTIES

```cs
    private SphereCollider _trigger;
    private CanvasGroup _ui;

    [Range(0.1f, 100.0f)] public float radius = 1.0f;

    public KeyTriggerType type;
    public List<KeyCode> pressKey;
    public bool isDone = false;     
    public bool isActive = false;
    public Action callback = null;
    public ItemObject itemObj = null;
```
  + `SphereCollider` : íŠ¸ë¦¬ê±°ë¡œ ì“°ì´ê²Œ ë¨. isTrigger. ì•„ì´í…œì´ ë²”ìœ„ ë‚´ì— ë“¤ì–´ì˜¤ë©´ ì£¼ìš¸ ìˆ˜ ìˆë„ë¡ í•¨
  + `CanvasGroup`
  + `[Range(0.1f, 100.0f)] public float radius` : íŠ¸ë¦¬ê±° ë²”ìœ„
  + `public KeyTriggerType type;` : enumí˜•ìœ¼ë¡œ 
        ```cs
        public enum KeyTriggerType {
            GetItem,
            TalkAction,
            InterAction,
            StopSlowAction,
        }
        ```
        ì•„ì´í…œ ì–»ëŠ”ë° ì“°ì´ëŠ”ì§€, ì—”í”¼ì‹œì™€ ëŒ€í™”í• ë•Œ ì“°ì´ëŠ”ì§€ ë“± êµ¬ë¶„í•œë‹¤

  + `public List<KeyCode> pressKey` : ì•„ì´í…œ ë¨¹ì„ í‚¤

  + **public Action callback** : Actionì€ ë¯¸ë¦¬ ì„ ì–¸ëœ ë¸ë¦¬ê²Œì´íŠ¸ ë³€ìˆ˜ì´ë‹¤.
    + Funcì€ ë°˜í™˜ê°’ì´ ìˆëŠ” ë©”ì†Œë“œë¥¼ ì°¸ì¡°í•˜ëŠ” ë¸ë¦¬ê²Œì´íŠ¸ ë³€ìˆ˜
    + Actionì€ <u>ë°˜í™˜ê°’ì´ ì—†ê³ , ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” ë©”ì†Œë“œ</u>ë¥¼ ì°¸ì¡°í•˜ëŠ” ë¸ë¦¬ê²Œì´íŠ¸ ë³€ìˆ˜

<br>

### ğŸ“UNITY_EVENTS

#### âœï¸Awake()

```cs
private void Awake() {
    _trigger = this.GetComponent<SphereCollider>();
    _trigger.isTrigger=true;

    if(!itemObj) itemObj = GetComponent<ItemObject>();
}
```  
  + Awake()ëŠ” Startë³´ë‹¤ ë” ë¨¼ì € í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë¡œ ì´ˆê¸°í™”í• ë•Œ ì“°ì„
  + íŠ¸ë¦¬ê±°ëŠ” í”Œë ˆì´ì–´ê°€ ì•„ì´í…œ ì£¼ìš¸ ìˆ˜ ìˆëŠ” ë²”ìœ„ ì•ˆì— ë“¤ì–´ì™”ëŠ”ì§€ í™•ì¸í•˜ëŠ” ìš©ë„
  + ì˜¤ë¸Œì íŠ¸ì˜ ì½œë¼ì´ë” ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜¤ê³ , isTriggerë¥¼ ì²´í¬í•´ì¤Œ
  + ë§Œì•½ ì•„ì´í…œì´ ì—†ìœ¼ë©´ ì˜¤ë¸Œì íŠ¸ì˜ ItemObject ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´

<br>

#### âœï¸Update()

```cs
private void Update() {
    _trigger.radius = radius;
            
    if(!isDone&&isActive&&Input.GetKey(pressKey[0])) {
        isDone = true;
        isActive = false;
        
        switch(type) {
            case KeyTriggerType.GetItem:
                {
                    ItemManager.Inst.itemInventory.AddItem(itemObj.penguin.Id);
                    Destroy(itemObj.gameObject);
                    break;
                }
        }
        if(callback!=null) {
            callback();
        } 
    }
}
```
  + ë§¤ í”„ë ˆì„ë§ˆë‹¤ í˜¸ì¶œ
  + ì§€ê¸ˆ ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” í¸ì§‘ëª¨ë“œì—ì„œ ë³€ê²½ì‚¬í•­ì„ ë°˜ì˜í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— radiusë„ ìƒˆë¡­ê²Œ ë°›ì•„ì¤€ë‹¤
  + ë§Œì•½ ì•„ì´í…œì´ ë²”ìœ„ë‚´ì— ìˆê³ , ë¨¹ì§€ ì•Šì•˜ê³  í•´ë‹¹ í‚¤ë¥¼ ëˆ„ë¥¸ë‹¤ë©´, ìƒí˜¸ì‘ìš©ì„ ì‹œì‘í•œë‹¤
    + í‚¤ ìš©ë„ê°€ ì•„ì´í…œì„ ì–»ëŠ” ê²ƒì´ë¼ë©´ ì¸ë²¤í† ë¦¬ì— ì•„ì´í…œì„ ì¶”ê°€í•˜ê³ , í•´ë‹¹ ì•„ì´í…œì€ ì”¬ì—ì„œ ì‚­ì œì‹œí‚¨ë‹¤

<br>

#### âœï¸onTriggerEnter / onTrigerExit

```cs
private void OnTriggerEnter(Collider other) {
    if(!isDone&&other.gameObject!=this) {
        switch(type) {
            case KeyTriggerType.GetItem:
            {
                isActive=true;
                break;
            }
        }
    }
}

            
private void OnTriggerExit(Collider other) {
    if(other.gameObject!=this) {
        switch(type) {
            case KeyTriggerType.GetItem:
            {
                isActive=false;
                break;
            }
        }
    }
}

```

  + ìœ ë‹ˆí‹° ì´ë²¤íŠ¸ í•¨ìˆ˜
  + ì´ í•¨ìˆ˜ë¥¼ í†µí•´ ì¶©ëŒì„ ê°ì§€í•œë‹¤. ì—¬ê¸°ì„  ì•„ì´í…œ ì¸ì‹ ë²”ìœ„ ë‚´ì— í”Œë ˆì´ì–´ê°€ ë“¤ì–´ì™”ëŠ”ì§€ ì•ˆì™”ëŠ”ì§€ì˜ ìš©ë„ë¡œ ì“°ì¸ë‹¤

  + OnTriggerEnter
    + ë‘ ê°œì˜ ê²Œì„ì˜¤ë¸Œì íŠ¸ê°€ ì¶©ëŒí•  ë•Œ í˜¸ì¶œ
    + ë§Œì•½ ë¨¹ì§€ ì•Šì•˜ê³ , ì¶©ëŒì²´ê°€ ë‹¤ë¥¸ ì•„ì´í…œì´ ì•„ë‹Œê²½ìš°, ì¦‰ í”Œë ˆì´ì–´ì™€ ì¶©ëŒëœ ê²½ìš°, í‚¤íŠ¸ë¦¬ê±°íƒ€ì…ì´ ì•„ì´í…œì„ ì–»ëŠ” ìš©ë„ì´ë©´ ì•„ì´í…œì„ ë¨¹ì„ ìˆ˜ ìˆë„ë¡ isActiveë¥¼ í™œì„±í™”ì‹œí‚¨ë‹¤

  + OnTriggerExit
    + ë‘ ê°œì˜ ê²Œì„ì˜¤ë¸Œì íŠ¸ê°€ ì¶©ëŒì„ ë©ˆì¶˜ í›„ í˜¸ì¶œ
    + í”Œë ˆì´ì–´ì™€ ì•„ì´í…œê°„ì˜ ì¶©ëŒì´ ì‚¬ë¼ì§€ë©´ isActiveë¥¼ êº¼ì„œ ì¤ì§€ëª»í•˜ë„ë¡ í•œë‹¤

<br>

## Inventory

### ğŸ’»ì „ì²´ ì½”ë“œ

```cs
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public class Inventory : MonoBehaviour
{
    #region VARIABLES & PROPERTIES
    GameObject _inventoryPanel;
    GameObject _slotPanel;
    public GameObject itemSlot;

    private int _slotSize;
    public List<Item> itemList = new List<Item>();
    public List<GameObject> slotObjList = new List<GameObject>();
    public List<Slot> slotList = new List<Slot>();
    #endregion

    #region UNITY_EVENTS
    private void Start() {
        _slotSize = DataManager.SLOT_SIZE;
        _inventoryPanel = GameObject.Find("InventoryPopup");
        _slotPanel = GameObject.Find("Content").gameObject;

        for (int i = 0; i < _slotSize; i++) {
            GameObject slotPrefab = Instantiate(itemSlot);
            slotObjList.Add(slotPrefab);
            var slot = slotObjList[i].GetComponent<Slot>();
            slot.Id = i;
            slotList.Add(slot);
            slotObjList[i].transform.SetParent(_slotPanel.transform, false);
        }
    }

    private void Update() {

    }
    #endregion

    #region MAIN_FUNCTIONS
    public void AddItem(int id) {
        Item itemToAdd = ItemManager.Inst.GetItemById(id);

        // ì•„ì´í…œì´ ì¸ë²¤í† ë¦¬ì— ìˆê³ , ìŒ“ì„ ìˆ˜ ìˆëŠ” ê²½ìš°
        if (itemToAdd.isStackable && CheckIfItemIsInInventory(itemToAdd)) {
            for (int i = 0; i < slotList.Count; i++) {
                if (itemToAdd.Id == slotList[i].item.Id) {
                    ItemUIObject data = slotObjList[i].transform.GetChild(0).GetComponent<ItemUIObject>();
                    data.Amount += itemToAdd.value;
                    break;
                }
            }
        }

        // ì•„ì´í…œì´ ì¸ë²¤í† ë¦¬ì— ì—†ëŠ” ê²½ìš°
        else {
            for (int i = 0; i < slotList.Count; i++) {
                if(slotList[i].item == null) {
                    var itemUI = Instantiate(Resources.Load<ItemUIObject>("Prefabs/ItemUIObject"), slotList[i].transform);
                    itemUI.Amount = itemToAdd.value;
                    itemUI.itemImage.sprite = itemToAdd.sprite;
                    itemUI.item = itemToAdd;
                    itemUI.slotId = i;
                    slotList[i].item = itemToAdd;
                    itemList.Add(itemToAdd);
                    break;
                } 
            }
        }
    }

    public bool CheckIfItemIsInInventory(Item item) {
        for (int i = 0; i < itemList.Count; i++) {
            if (item.Id == itemList[i].Id) {
                return true;
            }
        }
        return false;
    }
    #endregion
}
```

### ğŸ“VARIABLES & PROPERTIES

```cs
    GameObject _inventoryPanel;
    GameObject _slotPanel;
    public GameObject itemSlot;

    private int _slotSize;
    public List<Item> itemList = new List<Item>();
    public List<GameObject> slotObjList = new List<GameObject>();
    public List<Slot> slotList = new List<Slot>();
```
   + `GameObject _inventoryPanel;` : ì¸ë²¤í† ë¦¬ íŒ¨ë„, ì—¬ê¸°ì„  ë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë†“ê¸´ í–ˆì§€ë§Œ ì“°ì´ì§„ ì•ŠìŒ.. ì§€ì›Œì•¼í•˜ë‚˜
   + `GameObject _slotPanel;` : ìŠ¬ë¡¯ íŒ¨ë„
   + `public GameObject itemSlot;` : ìŠ¬ë¡¯ ë³€ìˆ˜

   + `private int _slotSize;` : ìŠ¬ë¡¯ ì‚¬ì´ì¦ˆ ë³€ìˆ˜
   + `public List<Item> itemList = new List<Item>();` : ì¸ë²¤í† ë¦¬ì— ë“¤ì–´ìˆëŠ” ì•„ì´í…œ ë¦¬ìŠ¤íŠ¸ 
   + `public List<GameObject> slotObjList = new List<GameObject>();` :  ìŠ¬ë¡¯ í”„ë¦¬íŒ¹ ê°€ì§€ê³  ìˆëŠ” ìŠ¬ë¡¯ ì˜¤ë¸Œì íŠ¸ ë¦¬ìŠ¤íŠ¸
   + `public List<Slot> slotList = new List<Slot>();` : ìŠ¬ë¡¯ ë¦¬ìŠ¤íŠ¸

<br>

### ğŸ“UNITY_EVENTS

```cs
private void Start() {
        _slotSize = DataManager.SLOT_SIZE;
        _inventoryPanel = GameObject.Find("InventoryPopup");
        _slotPanel = GameObject.Find("Content").gameObject;

        for (int i = 0; i < _slotSize; i++) {
            GameObject slotPrefab = Instantiate(itemSlot);
            slotObjList.Add(slotPrefab);
            var slot = slotObjList[i].GetComponent<Slot>();
            slot.Id = i;
            slotList.Add(slot);
            slotObjList[i].transform.SetParent(_slotPanel.transform, false);
        }
    }
```
  + ìŠ¬ë¡¯ ì‚¬ì´ì¦ˆëŠ” DataManagerì— ìƒìˆ˜ë¡œ ë§Œë“¤ì–´ë‘ . ê±°ê¸°ì„œ ë°”ê¿€ ìˆ˜ ìˆìŒ
  + ê²Œì„ ì˜¤ë¸Œì íŠ¸ì¤‘ ì¸ë²¤í† ë¦¬ íŒ¨ë„ì„ ì°¾ì•„ì™€ ì¸ë²¤í† ë¦¬íŒ¨ë„ ë³€ìˆ˜ì— ì €ì¥(ì—¬ê¸°ì„  ì•ˆì“°ì„)
  + Contentê°€ ìŠ¬ë¡¯ì´ ë¶™ì„ ë°”ë¡œ ìœ„ ë¶€ëª¨ ì˜¤ë¸Œì íŠ¸ë¡œ ìŠ¬ë¡¯íŒ¨ë„ ë³€ìˆ˜ì— ì €ì¥

  + ì •í•´ë‘” ìŠ¬ë¡¯ ì‚¬ì´ì¦ˆë§Œí¼ íŒ¨ë„ì— ìŠ¬ë¡¯ì„ ë¶™ì—¬ì£¼ì–´ì•¼ í•¨
    + itemSlotì€ ìŠ¬ë¡¯ì˜ UIí”„ë¦¬íŒ¹ì´ë‹¤. ì´ê²ƒì„ ìƒì„±í•˜ì—¬ ìŠ¬ë¡¯ ì˜¤ë¸Œì íŠ¸ ë¦¬ìŠ¤íŠ¸ì— ë„£ì–´ì¤€ë‹¤.
    + itemSlot í”„ë¦¬íŒ¹ì—ëŠ” Slotí´ë˜ìŠ¤ê°€ ë¶™ì–´ìˆëŠ”ë° ì´ê²ƒì´ ìŠ¬ë¡¯ì´ë‹¤. ì´ ìŠ¬ë¡¯ì´ ê°€ì§€ê³  ìˆëŠ” ì•„ì´ë””ì— ë²ˆí˜¸ë¥¼ ë¶™ì—¬ì£¼ê³  ìŠ¬ë¡¯ë¦¬ìŠ¤íŠ¸ì—ë„ ë„£ì–´ì¤€ë‹¤.
    + ë§Œë“¤ì–´ì¤€ ìŠ¬ë¡¯ í”„ë¦¬íŒ¹(slotObjList[i])ì„ íŒ¨ë„ì— ë¶™ì—¬ì¤€ë‹¤.
    + ì •ë¦¬í•˜ë©´, ìŠ¬ë¡¯ í”„ë¦¬íŒ¹ì„ slotObjListì— ë„£ì–´ì£¼ê³ , í”„ë¦¬íŒ¹ ì•ˆì— ìˆëŠ” slotì— ì•„ì´ë”” ë¶€ì—¬, slotë§Œ ë”°ë¡œ ë¦¬ìŠ¤íŠ¸ì— ë˜ ì¶”ê°€í•´ì¤€ ê²ƒ

<br>

### ğŸ“MAIN_FUNCTIONS

#### âœï¸AddItem

```cs
 public void AddItem(int id) {
        Item itemToAdd = ItemManager.Inst.GetItemById(id);      // ì•„ì´ë””ë¡œ ì´ ì•„ì´í…œì´ ì½œë¼ì¸ì§€, í­ê·„ì¸ì§€ ë­”ì§€ ì•Œì•„ì˜¨ë‹¤

        // ì•„ì´í…œì´ ì¸ë²¤í† ë¦¬ì— ìˆê³ , ìŒ“ì„ ìˆ˜ ìˆëŠ” ê²½ìš°
        if (itemToAdd.isStackable && CheckIfItemIsInInventory(itemToAdd)) {   
            for (int i = 0; i < slotList.Count; i++) {          // ìŠ¬ë¡¯ ê°œìˆ˜ë§Œí¼ ëŒë©´ì„œ í•´ë‹¹ ì•„ì´í…œì„ ì°¾ëŠ”ë‹¤
                if (itemToAdd.Id == slotList[i].item.Id) {      // ì°¾ì„ ë• ìŠ¬ë¡¯ë¦¬ìŠ¤íŠ¸ì˜ ì•„ì´ë”” ì´ìš©
                    ItemUIObject data = slotObjList[i].transform.GetChild(0).GetComponent<ItemUIObject>();  // í•´ë‹¹ ìŠ¬ë¡¯UIë¥¼ ê°€ì ¸ì˜´
                    data.Amount += itemToAdd.value;         // ê°œìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” amountë¥¼ valueë§Œí¼ ì¦ê°€ì‹œì¼œì¤Œ
                    break;
                }
            }
        }

        // ì•„ì´í…œì´ ì¸ë²¤í† ë¦¬ì— ì—†ëŠ” ê²½ìš°
        else {
            for (int i = 0; i < slotList.Count; i++) {
                if(slotList[i].item == null) {      // ë¹„ì–´ìˆëŠ” ìŠ¬ë¡¯ì„ ì°¾ëŠ”ë‹¤
                    var itemUI = Instantiate(Resources.Load<ItemUIObject>("Prefabs/ItemUIObject"), slotList[i].transform);      // ìŠ¬ë¡¯ í”„ë¦¬íŒ¹ì„ ê°€ì ¸ì™€ ë¶™ì¸ë‹¤
                    itemUI.Amount = itemToAdd.value;            // ì´ë•Œ í”„ë¦¬íŒ¹ì˜ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™” ì‹œì¼œì¤€ë‹¤. ê°œìˆ˜ëŠ” valueë§Œí¼
                    itemUI.itemImage.sprite = itemToAdd.sprite; // ì´ë¯¸ì§€ëŠ” ì•„ì´í…œ ì´ë¯¸ì§€ ê°€ì ¸ì˜¤ê³ 
                    itemUI.item = itemToAdd;                    
                    itemUI.slotId = i;                         
                    slotList[i].item = itemToAdd;               // ìŠ¬ë¡¯ ë¦¬ìŠ¤íŠ¸ì— ì•„ì´í…œë„ í• ë‹¹
                    itemList.Add(itemToAdd);                    // ì¸ë²¤í† ë¦¬ì— ë“¤ì–´ìˆëŠ” ì•„ì´í…œì„ ë‹´ì€ ë¦¬ìŠ¤íŠ¸ì—ë„ ì¶”ê°€
                    break;
                } 
            }
        }
    }
```


<br>

#### âœï¸CheckIfItemIsInInventory

+ ì¸ë²¤í† ë¦¬ì— ì•„ì´í…œì´ ìˆëŠ”ì§€ ê²€ì‚¬í•˜ëŠ” í•¨ìˆ˜

```cs
    public bool CheckIfItemIsInInventory(Item item) {
        for (int i = 0; i < itemList.Count; i++) {      // ì¸ë²¤í† ë¦¬ì— ë“¤ì–´ìˆëŠ” ì•„ì´í…œì„ ë‹´ì€ ë¦¬ìŠ¤íŠ¸ë¥¼ ê²€ì‚¬í•œë‹¤
            if (item.Id == itemList[i].Id) {            // ì•„ì´ë””ë¡œ ì•„ì´í…œ ê²€ì‚¬í•˜ëŠ”ë°, ì•„ì´ë”” ì¼ì¹˜ ì¦‰ ì•„ì´í…œ ìˆìœ¼ë©´ true ë¦¬í„´
                return true;                            
            }
        }
        return false;
    }
```

<br>

## ğŸ˜ƒê²°ê³¼

![fail to bring](/assets/Image/blog/PolarBear_inventory1.png)
ì„ì‹œ ìºë¦­í„°ì§€ë§Œ ê·€ì—¬ìš´ ë¶ê·¹ê³°

<br>

![fail to bring](/assets/Image/blog/PolarBear_inventory2.png)
ê°™ì´ ì¼í•˜ëŠ” ìƒì‚¬ê°™ì€ ì˜¤ë¹ ê°€ ë§Œë“  ì¸ë²¤í† ë¦¬

<br>

![fail to bring](/assets/Image/blog/PolarBear_inventory3.png)
Tabì„ ëˆ„ë¥´ë©´ ì£¼ë³€ì˜ ì•„ì´í…œì„ ë¨¹ì„ ìˆ˜ ìˆë‹¤.
ì„ì‹œë¡œ ìƒì„ ê³¼ í­ê·„ì„ ì•„ì´í…œìœ¼ë¡œ ì„¤ì •í•´ë†“ì•˜ë‹¤. 
í­ê·„ì€ í•œë²ˆ ë¨¹ì„ ë•Œ 2ê°œì”© ìì›ì´ ìŒ“ì´ê³ , ìƒì„ ì€ í•˜ë‚˜ì”© ìŒ“ì´ë„ë¡ ê°’(item.value)ì„ ì„¤ì •í–ˆë‹¤.

<br>

![fail to bring](/assets/Image/blog/PolarBear_inventory4.png)
ì´ì œ ì˜¤ë¸Œì íŠ¸ í’€ë§ìœ¼ë¡œ ì•„ì´í…œì„ ìƒì„±í•˜ê³  ì“°ê³  ì—†ì• ëŠ” ê²ƒìœ¼ë¡œ ë‹¤ì‹œ ë°”ê¿”ë³¼ ì˜ˆì •ì´ë‹¤